<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Cross compiling aarch64(arm64) rust for linux from x86_64 machine &#183; Jinwoo Park Blog</title><meta name=title content="Cross compiling aarch64(arm64) rust for linux from x86_64 machine &#183; Jinwoo Park Blog"><meta name=keywords content="Cross compile,Rust,Linux,ARMv8A,English_Article,"><link rel=canonical href=https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/><meta property="og:url" content="https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/"><meta property="og:site_name" content="Jinwoo Park Blog"><meta property="og:title" content="Cross compiling aarch64(arm64) rust for linux from x86_64 machine"><meta property="og:description" content="In October 6, Rust for linux is under the linux-next, not stable
Thus this article would be out-of-date before Linux 6.1 stable comes.
Current linux 6.1 rc1 doesn’t contain rust for linux with ARM64. Thus this article play with https://github.com/Rust-for-Linux/linux/tree/for-next/rust"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-04T02:09:31+09:00"><meta property="article:modified_time" content="2022-10-04T02:09:31+09:00"><meta property="article:tag" content="Cross Compile"><meta property="article:tag" content="Rust"><meta property="article:tag" content="Linux"><meta property="article:tag" content="ARMv8A"><meta property="article:tag" content="English_Article"><meta property="og:image" content="https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/feature.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/feature.png"><meta name=twitter:title content="Cross compiling aarch64(arm64) rust for linux from x86_64 machine"><meta name=twitter:description content="In October 6, Rust for linux is under the linux-next, not stable
Thus this article would be out-of-date before Linux 6.1 stable comes.
Current linux 6.1 rc1 doesn’t contain rust for linux with ARM64. Thus this article play with https://github.com/Rust-for-Linux/linux/tree/for-next/rust"><meta name=google-site-verification content="VmKxOzBA6bj36Pwan0cjJGtyjeD7hzi9UDxXJ4kCjhI"><link type=text/css rel=stylesheet href=/css/main.bundle.min.b5bc3f4587655153415b7825fd1716f97df9c99f87c23f81146f4dd4f9f49f04ad031e3b5f0ee5c0416707a1455ca2cfa8fc1f3a19ece1486b0126dcd310a63e.css integrity="sha512-tbw/RYdlUVNBW3gl/RcW+X35yZ+Hwj+BFG9N1Pn0nwStAx47Xw7lwEFnB6FFXKLPqPwfOhns4UhrASbc0xCmPg=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.bdda7dece6cbaf08deef7d254f7f842f3261c2524d247905127c9a20decc03f1011a2950048464c79272c1ce0705a49a41147f39f2b95163bb71d404b33263ef.js integrity="sha512-vdp97ObLrwje730lT3+ELzJhwlJNJHkFEnyaIN7MA/EBGilQBIRkx5Jywc4HBaSaQRR/OfK5UWO7cdQEszJj7w==" data-copy=Copy data-copied=Copied></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Cross compiling aarch64(arm64) rust for linux from x86_64 machine","headline":"Cross compiling aarch64(arm64) rust for linux from x86_64 machine","inLanguage":"en","url":"https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/","author":{"@type":"Person","name":""},"copyrightYear":"2022","dateCreated":"2022-10-04T02:09:31\u002b09:00","datePublished":"2022-10-04T02:09:31\u002b09:00","dateModified":"2022-10-04T02:09:31\u002b09:00","keywords":["Cross compile","Rust","Linux","ARMv8A","English_Article"],"mainEntityOfPage":"true","wordCount":"693"}]</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VCBQVYZX51"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VCBQVYZX51")</script></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class="main-menu flex items-center w-full gap-2 p-1 pl-0"><div><a href=/en/ class=flex><span class=sr-only>Jinwoo Park Blog</span>
<img src=/img/LambdaEE.png width=295 height=182 class="logo max-h-20 max-w-20 object-scale-down object-left nozoom" alt></a></div><a href=/en/ class="text-base font-medium truncate min-w-0 shrink">Jinwoo Park Blog</a><div class="flex items-center ms-auto"><div class="hidden md:flex"><nav class="flex items-center gap-x-5 h-12"><a href=/en/posts/ class="flex items-center bf-icon-color-hover" aria-label=Blog title=Posts><span class="text-base font-medium break-normal">Blog
</span></a><a href=/en/tags/ class="flex items-center bf-icon-color-hover" aria-label=Tags title=Tags><span class="text-base font-medium break-normal">Tags
</span></a><a href=/en/categories/ class="flex items-center bf-icon-color-hover" aria-label=Categories title=Categories><span class="text-base font-medium break-normal">Categories
</span></a><a href=https://github.com/pmnxis target=_blank class="flex items-center bf-icon-color-hover" aria-label=GitHub title><span class="text-base font-medium break-normal">GitHub</span></a><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="Cross compiling aarch64(arm64) rust for linux from x86_64 machine">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/ko/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="x86_64 머신에서 aarch64(arm64) Rust for Linux 크로스 컴파일하기">KO
</span></a><a href=/ja/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Cross compiling aarch64(arm64) rust for linux from x86_64 machine">JA
</span></a><a href=/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Cross compiling aarch64(arm64) rust for linux from x86_64 machine">EN</span></a></li></ul></div><button id=search-button aria-label=Search class="text-base bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base bf-icon-color-hover"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav></div><div class="flex md:hidden"><div class="flex items-center h-14 gap-4"><button id=search-button-mobile aria-label=Search class="flex items-center justify-center bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile type=button aria-label="Dark mode switcher" class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400"><div class=dark:hidden><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden dark:block"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button>
<input type=checkbox id=mobile-menu-toggle autocomplete=off class="hidden peer">
<label for=mobile-menu-toggle class="flex items-center justify-center cursor-pointer bf-icon-color-hover"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></label><div role=dialog aria-modal=true style=scrollbar-gutter:stable class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
bf-scrollbar"><label for=mobile-menu-toggle class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></label><nav class="mx-auto max-w-md space-y-6"><div class=px-2><a href=/en/posts/ aria-label=Blog class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Posts class="text-2xl font-bold tracking-tight">Blog</span></a></div><div class=px-2><a href=/en/tags/ aria-label=Tags class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Tags class="text-2xl font-bold tracking-tight">Tags</span></a></div><div class=px-2><a href=/en/categories/ aria-label=Categories class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Categories class="text-2xl font-bold tracking-tight">Categories</span></a></div><div class=px-2><a href=https://github.com/pmnxis aria-label=GitHub target=_blank class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title class="text-2xl font-bold tracking-tight">GitHub</span></a></div><div class="flex flex-wrap items-center [&_span]:text-2xl [&_.translation_button_.icon]:text-4xl! [&_.translation_button_span]:text-base! [&_.translation_.menuhide_span]:text-sm! gap-x-6 ps-2 mt-8 pt-8 border-t bf-border-color"><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="Cross compiling aarch64(arm64) rust for linux from x86_64 machine">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/ko/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="x86_64 머신에서 aarch64(arm64) Rust for Linux 크로스 컴파일하기">KO
</span></a><a href=/ja/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Cross compiling aarch64(arm64) rust for linux from x86_64 machine">JA
</span></a><a href=/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Cross compiling aarch64(arm64) rust for linux from x86_64 machine">EN</span></a></li></ul></div></div></nav></div></div></div></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Cross compiling aarch64(arm64) rust for linux from x86_64 machine</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2022-10-04T02:09:31+09:00>4 October 2022</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">4 mins</span></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/en/categories/linux/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Linux
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/en/tags/cross-compile/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Cross Compile
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/en/tags/rust/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Rust
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/en/tags/linux/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Linux
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/en/tags/armv8a/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">ARMv8A
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/en/tags/english_article/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">English_Article</span></span></a></div></div><div class="flex author"><div class=place-self-center><div class="text-2xl sm:text-lg"></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ms-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-10"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain bf-scrollbar rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#debian--ubuntu-package-requirements>Debian / Ubuntu Package Requirements</a></li><li><a href=#arch-package-requirements>Arch Package Requirements</a></li></ul></li><li><a href=#clone-linux-from-rust-for-linux>Clone linux from Rust-For-Linux</a></li><li><a href=#necessary-some-rust-scripts-in-rust-for-linux>Necessary some rust scripts in <code>Rust-For-Linux</code></a></li><li><a href=#check-rust_available>Check <code>RUST_AVAILABLE</code></a></li><li><a href=#configure-linux-source-code-with-menuconfig>Configure linux source code with <code>menuconfig</code></a><ul><li><a href=#general-setup---rust-support><code>General setup -> Rust support</code></a></li><li><a href=#kernel-hacking---sample-kernel-code><code>Kernel hacking -> Sample kernel code</code></a></li><li><a href=#kernel-hacking---rust-hacking><code>Kernel hacking -> Rust hacking</code></a></li></ul></li><li><a href=#cross-compile>Cross compile</a><ul><li><a href=#simple-compile-speed-comparation>Simple compile speed comparation.</a></li></ul></li><li><a href=#install-cross-compiled-kernel-to-arm64-virtual-machine>Install cross compiled kernel to arm64 virtual machine</a></li><li><a href=#install-cross-compiled-kernel-to-raspberry-pi>Install cross compiled kernel to raspberry pi</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#debian--ubuntu-package-requirements>Debian / Ubuntu Package Requirements</a></li><li><a href=#arch-package-requirements>Arch Package Requirements</a></li></ul></li><li><a href=#clone-linux-from-rust-for-linux>Clone linux from Rust-For-Linux</a></li><li><a href=#necessary-some-rust-scripts-in-rust-for-linux>Necessary some rust scripts in <code>Rust-For-Linux</code></a></li><li><a href=#check-rust_available>Check <code>RUST_AVAILABLE</code></a></li><li><a href=#configure-linux-source-code-with-menuconfig>Configure linux source code with <code>menuconfig</code></a><ul><li><a href=#general-setup---rust-support><code>General setup -> Rust support</code></a></li><li><a href=#kernel-hacking---sample-kernel-code><code>Kernel hacking -> Sample kernel code</code></a></li><li><a href=#kernel-hacking---rust-hacking><code>Kernel hacking -> Rust hacking</code></a></li></ul></li><li><a href=#cross-compile>Cross compile</a><ul><li><a href=#simple-compile-speed-comparation>Simple compile speed comparation.</a></li></ul></li><li><a href=#install-cross-compiled-kernel-to-arm64-virtual-machine>Install cross compiled kernel to arm64 virtual machine</a></li><li><a href=#install-cross-compiled-kernel-to-raspberry-pi>Install cross compiled kernel to raspberry pi</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><blockquote><p>In October 6, Rust for linux is under the linux-next, not stable<br>Thus this article would be out-of-date before Linux 6.1 stable comes.</p></blockquote><blockquote><p>Current linux 6.1 rc1 doesn&rsquo;t contain rust for linux with ARM64.
Thus this article play with <a href=https://github.com/Rust-for-Linux/linux/tree/for-next/rust target=_blank rel=noreferrer>https://github.com/Rust-for-Linux/linux/tree/for-next/rust</a></p></blockquote><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt=Building_Rust_For_Linux_with_cross_compile width=768 height=768 src=/img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cat_12.png srcset="/img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cat_12.png 800w, /img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cat_12.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cat_12.png></figure></p><h2 class="relative group">Introduction<div id=introduction class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#introduction aria-label=Anchor>#</a></span></h2><p>This article describes cross-compiling rust for linux on x86_64 debian. There is still not enough computing power to build arm64 native kernel except for Apple Silicon.</p><p>Btw, this article is in reference to these links</p><ul><li><a href=https://github.com/Rust-for-Linux/linux/blob/rust/Documentation/rust/quick-start.rst target=_blank rel=noreferrer>https://github.com/Rust-for-Linux/linux/blob/rust/Documentation/rust/quick-start.rst</a></li><li><a href=https://docs.kernel.org/kbuild/llvm.html#cross-compiling target=_blank rel=noreferrer>https://docs.kernel.org/kbuild/llvm.html#cross-compiling</a></li></ul><h3 class="relative group">Debian / Ubuntu Package Requirements<div id=debian--ubuntu-package-requirements class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#debian--ubuntu-package-requirements aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Install build-requirements for kernel compile with LLVM.</span>
</span></span><span class=line><span class=cl><span class=c1># Biggest difference to native build is</span>
</span></span><span class=line><span class=cl><span class=c1># crossbuild-essential-arm64 needed to build` for arm64</span>
</span></span><span class=line><span class=cl>apt install clang git llvm-dev libclang-dev build-essential <span class=se>\
</span></span></span><span class=line><span class=cl>bc kmod cpio flex libncurses5-dev libelf-dev libssl-dev <span class=se>\
</span></span></span><span class=line><span class=cl>dwarves bison lld curl crossbuild-essential-arm64</span></span></code></pre></div></div><p>Before build kernel, we need to install some packages.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>curl --proto <span class=s1>&#39;=https&#39;</span> --tlsv1.2 -sSf https://sh.rustup.rs <span class=p>|</span> sh
</span></span><span class=line><span class=cl>rustup default 1.62
</span></span><span class=line><span class=cl>rustup component add rust-src
</span></span><span class=line><span class=cl><span class=c1># rustfmt and clippy is need for later developing and debugging.</span>
</span></span><span class=line><span class=cl>rustup component add rustfmt 
</span></span><span class=line><span class=cl>rustup component add clippy</span></span></code></pre></div></div><p>Install rust with curl. You can select just default options.
Also current rust for linux working with 1.62.
Some native compile is working well with recent version (1.64 tested, but cross compile not working).</p><h3 class="relative group">Arch Package Requirements<div id=arch-package-requirements class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#arch-package-requirements aria-label=Anchor>#</a></span></h3><ul><li>TBD</li></ul><h2 class="relative group">Clone linux from Rust-For-Linux<div id=clone-linux-from-rust-for-linux class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#clone-linux-from-rust-for-linux aria-label=Anchor>#</a></span></h2><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="Check working branch" width=2480 height=1490 src=/img/build_in_m1vm/check_working_branch_hu_b5aec1439dfd74a5.png srcset="/img/build_in_m1vm/check_working_branch_hu_b5aec1439dfd74a5.png 800w, /img/build_in_m1vm/check_working_branch_hu_bea85f4c1a54c1de.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/build_in_m1vm/check_working_branch.png></figure><em>State of current rust-for-linux, they are under 6.0 RC</em></p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># In my case use `Develop` as worksapce, you can replace this word. </span>
</span></span><span class=line><span class=cl>mkdir -p ~/Develop
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~/Develop
</span></span><span class=line><span class=cl>git clone https://github.com/Rust-for-Linux/linux.git -b rust</span></span></code></pre></div></div><p>clone like this.</p><h2 class="relative group">Necessary some rust scripts in <code>Rust-For-Linux</code><div id=necessary-some-rust-scripts-in-rust-for-linux class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#necessary-some-rust-scripts-in-rust-for-linux aria-label=Anchor>#</a></span></h2><p>In cloned linux directory.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git clone --recurse-submodules <span class=se>\
</span></span></span><span class=line><span class=cl>        --branch <span class=k>$(</span>scripts/min-tool-version.sh rustc<span class=k>)</span> <span class=se>\
</span></span></span><span class=line><span class=cl>        https://github.com/rust-lang/rust <span class=se>\
</span></span></span><span class=line><span class=cl>        <span class=k>$(</span>rustc --print sysroot<span class=k>)</span>/lib/rustlib/src/rust</span></span></code></pre></div></div><p>This work clone <code>rustlib</code> repository in your rust toolchain directory.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>cargo install --locked --version <span class=k>$(</span>scripts/min-tool-version.sh bindgen<span class=k>)</span> bindgen</span></span></code></pre></div></div><p>This work need to bind existing c code to rust code.
s</p><h2 class="relative group">Check <code>RUST_AVAILABLE</code><div id=check-rust_available class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#check-rust_available aria-label=Anchor>#</a></span></h2><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span> ~/Develop/linux
</span></span><span class=line><span class=cl>make <span class=nv>LLVM</span><span class=o>=</span><span class=m>1</span> rustavailable</span></span></code></pre></div></div><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ make LLVM=1 rustavailable
</span></span><span class=line><span class=cl>***
</span></span><span class=line><span class=cl>*** Rust compiler &#39;rustc&#39; is too new. This may or may not work.
</span></span><span class=line><span class=cl>***   Your version:     1.62.1
</span></span><span class=line><span class=cl>***   Expected version: 1.62.0
</span></span><span class=line><span class=cl>***
</span></span><span class=line><span class=cl>Rust is available!</span></span></code></pre></div></div><p>Than if you get result like this it&rsquo;s good to go
(1.62.1 was fine to cross compile, but if you consider best fit, run <code>rustup default 1.62.0</code>.)</p><h2 class="relative group">Configure linux source code with <code>menuconfig</code><div id=configure-linux-source-code-with-menuconfig class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#configure-linux-source-code-with-menuconfig aria-label=Anchor>#</a></span></h2><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>make ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- defconfig
</span></span><span class=line><span class=cl>make ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- menuconfig</span></span></code></pre></div></div><h3 class="relative group"><code>General setup -> Rust support</code><div id=general-setup---rust-support class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#general-setup---rust-support aria-label=Anchor>#</a></span></h3><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="Menuconfig Rust Support" width=1408 height=1214 src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_check_rust_support_hu_a96382efa1306006.png srcset="/img/build_in_m1vm/menuconfig_rust_in_m1vm_check_rust_support_hu_a96382efa1306006.png 800w, /img/build_in_m1vm/menuconfig_rust_in_m1vm_check_rust_support_hu_663cbe0ab3b46a1d.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_check_rust_support.png></figure>In <code>General setup -> Rust support</code> , Enable this<br>If you don&rsquo;t see the flag, double-check that the <code>make LLVM=1 rustavailable</code> process was successful.<br></p><div class="flex px-4 py-2 mb-8 text-base rounded-md bg-primary-100 dark:bg-primary-900"><span class="flex items-center ltr:pr-3 rtl:pl-3 text-primary-400"><span class="relative inline-block align-text-bottom icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417 293 53c-16.33-28-57.54-28-73.98.0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6c32.76.0 53.26-35 36.96-63zM232 168c0-13.25 10.75-24 24-24s24 10.8 24 24v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zm24 248c-17.36.0-31.44-14.08-31.44-31.44s14.07-31.44 31.44-31.44 31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg></span>
</span><span class="flex items-center justify-between grow dark:text-neutral-300"><span class="prose dark:prose-invert">For a detailed mailing thread on <code id=layout>CONFIG_RUST</code> see here.</span>
<a href=https://lore.kernel.org/lkml/20220317181032.15436-17-ojeda@kernel.org/ class="px-4 !text-neutral !no-underline rounded-md bg-primary-600 hover:!bg-primary-500 dark:bg-primary-800 dark:hover:!bg-primary-700">See details &rharu;</a></span></div><h3 class="relative group"><code>Kernel hacking -> Sample kernel code</code><div id=kernel-hacking---sample-kernel-code class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#kernel-hacking---sample-kernel-code aria-label=Anchor>#</a></span></h3><p>For easy to develop rust kernel code we need some examples.
You can get them with following menus.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="Menuconfig Rust Sample1" width=1458 height=886 src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add2_hu_3a0847fafbab1ced.png srcset="/img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add2_hu_3a0847fafbab1ced.png 800w, /img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add2_hu_1accfac7eb138f39.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add2.png></figure></td><td><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="Menuconfig Rust Sample2" width=1460 height=884 src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add1_hu_ea74e58cafc2a158.png srcset="/img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add1_hu_ea74e58cafc2a158.png 800w, /img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add1_hu_65901a51d3d56494.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_example_add1.png></figure></td></tr></tbody></table><p>In <code>Kernel hacking -> Sample kernel code</code> , enable it (not all of them..) when you interest.
I don&rsquo;t recommend you enable them when you write own driver. Because there&rsquo;s some possibility make system slow or make unwanted log in dmesg.<br>In particular, the netflitter example outputs too many dmesg, so it is recommended that you disable it unless you are studying the <code>netfilter</code> example.<figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="example too many dmesg log from netfilter example" width=1564 height=406 src=/img/build_in_m1vm/too_many_log_hu_12eda56f9aba0576.png srcset="/img/build_in_m1vm/too_many_log_hu_12eda56f9aba0576.png 800w, /img/build_in_m1vm/too_many_log_hu_875f3e9cbf65ac4.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/build_in_m1vm/too_many_log.png></figure><br></p><h3 class="relative group"><code>Kernel hacking -> Rust hacking</code><div id=kernel-hacking---rust-hacking class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#kernel-hacking---rust-hacking aria-label=Anchor>#</a></span></h3><p>For debug rust kernel code or driver, need to enable some debug options.</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="Menuconfig Rust Debug" width=1194 height=820 src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_debug_hu_13ed183ce4dc1015.png srcset="/img/build_in_m1vm/menuconfig_rust_in_m1vm_debug_hu_13ed183ce4dc1015.png 800w, /img/build_in_m1vm/menuconfig_rust_in_m1vm_debug.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/build_in_m1vm/menuconfig_rust_in_m1vm_debug.png></figure></p><p>In <code>Kernel hacking -> Rust hacking</code> , enables it and inside menus.</p><h2 class="relative group">Cross compile<div id=cross-compile class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#cross-compile aria-label=Anchor>#</a></span></h2><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=auto alt="Build time" width=1572 height=1110 src=/img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cross_with_j32_hu_70fc0e96a66c640.png srcset="/img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cross_with_j32_hu_70fc0e96a66c640.png 800w, /img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cross_with_j32_hu_7dd1fb23bc57e875.png 1280w" sizes="(min-width: 768px) 50vw, 65vw" data-zoom-src=/img/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/cross_with_j32.png></figure></p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># -j4 for 4 core virtual machine, -j2 for 2 core, -j1 for single core.</span>
</span></span><span class=line><span class=cl>make <span class=nv>ARCH</span><span class=o>=</span>arm64 <span class=nv>CROSS_COMPILE</span><span class=o>=</span>aarch64-linux-gnu- <span class=nv>LLVM</span><span class=o>=</span><span class=m>1</span> -j32</span></span></code></pre></div></div><p>Build with following command. You need to set number of job considering assigned number of cores for virtual machine. (<code>-j#</code>)</p><p>Also while you build it, it will ask some flag. I just select default in my case.</p><h3 class="relative group">Simple compile speed comparation.<div id=simple-compile-speed-comparation class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#simple-compile-speed-comparation aria-label=Anchor>#</a></span></h3><table><thead><tr><th>Machine / Environment</th><th style=text-align:right>Compile time</th></tr></thead><tbody><tr><td>M1 Max Virtual Machine (4 core 8GB RAM with aarch64 debian11)</td><td style=text-align:right>16 minutes</td></tr><tr><td>M1 Asahi Linux (4P+4E core 16GB RAM MacMini with 6.1.0-rc6-asahi)</td><td style=text-align:right>11 minutes</td></tr><tr><td>AMD Ryzen 5950x Native (16 core 32 thread, 64GB with x86_64)</td><td style=text-align:right>3 minutes</td></tr><tr><td>AMD Threadripper Pro 5975wx Native (32 core 64 thread, 256GB with x86_64)</td><td style=text-align:right>2 minutes</td></tr></tbody></table><h2 class="relative group">Install cross compiled kernel to arm64 virtual machine<div id=install-cross-compiled-kernel-to-arm64-virtual-machine class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#install-cross-compiled-kernel-to-arm64-virtual-machine aria-label=Anchor>#</a></span></h2><ul><li>TBD, will update asap.</li></ul><h2 class="relative group">Install cross compiled kernel to raspberry pi<div id=install-cross-compiled-kernel-to-raspberry-pi class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#install-cross-compiled-kernel-to-raspberry-pi aria-label=Anchor>#</a></span></h2><ul><li>TBD, will update asap.</li></ul></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/&amp;title=Cross%20compiling%20aarch64%28arm64%29%20rust%20for%20linux%20from%20x86_64%20machine" title="Share on LinkedIn" aria-label="Share on LinkedIn"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://twitter.com/intent/tweet/?url=https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/&amp;text=Cross%20compiling%20aarch64%28arm64%29%20rust%20for%20linux%20from%20x86_64%20machine" title="Tweet on Twitter" aria-label="Tweet on Twitter"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></span>
</a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/&amp;resubmit=true&amp;title=Cross%20compiling%20aarch64%28arm64%29%20rust%20for%20linux%20from%20x86_64%20machine" title="Submit to Reddit" aria-label="Submit to Reddit"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.facebook.com/sharer/sharer.php?u=https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/&amp;quote=Cross%20compiling%20aarch64%28arm64%29%20rust%20for%20linux%20from%20x86_64%20machine" title="Share on Facebook" aria-label="Share on Facebook"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14.0 55.52 4.84 55.52 4.84v61h-31.28c-30.8.0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?body=https://pmnxis.github.io/en/posts/cross_compiling_aarch64_rust_for_linux_from_x86_64_linux/&amp;subject=Cross%20compiling%20aarch64%28arm64%29%20rust%20for%20linux%20from%20x86_64%20machine" title="Send via email" aria-label="Send via email"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></a></section></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/look_into_simple_rust_out_of_tree/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;[Rust Driver] Let's try build example rust linux driver.
</span></a><span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2022-10-02T21:05:52+09:00>2 October 2022</time>
</span></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/five_mothes_ago_from_using_rust_as_work_kr/><span class=leading-6>About Five Months After Using Rust at Work&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
</span></a><span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2022-11-27T01:05:52+09:00>27 November 2022</time></span></span></div></div><div class=pt-3><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class=pt-3><script src=https://utteranc.es/client.js repo=pmnxis/pmnxis.github.io issue-term=pathname label=Comment theme=dark-blue crossorigin=anonymous async></script></div></div></footer></article><div id=scroll-to-top class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/en/tags/ title=Tags>Tags</a></li><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/en/categories/ title=Categories>Categories</a></li><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=https://github.com/pmnxis title>GitHub</a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://pmnxis.github.io/en/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>